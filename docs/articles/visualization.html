<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="powRICLPM">
<title>Visualize results • powRICLPM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize results">
<meta property="og:description" content="powRICLPM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">powRICLPM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Mulder2022.html">Results Mulder (2022)</a>
    <a class="dropdown-item" href="../articles/analysis.html">Power analysis</a>
    <a class="dropdown-item" href="../articles/mplus.html">Power analysis using Mplus</a>
    <a class="dropdown-item" href="../articles/speeding.html">Speeding up the analysis</a>
    <a class="dropdown-item" href="../articles/visualization.html">Visualize results</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/JeroenDMulder/powRICLPM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Visualize results</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/JeroenDMulder/powRICLPM/blob/HEAD/vignettes/visualization.Rmd" class="external-link"><code>vignettes/visualization.Rmd</code></a></small>
      <div class="d-none name"><code>visualization.Rmd</code></div>
    </div>

    
    
<p>The <code>powRICLPM</code> package provides a user-friendly function <code><a href="../reference/plot_powRICLPM.html">plot_powRICLPM()</a></code> to visualize results from a powRICLPM power analysis. Below, I explain how this function can be used, and demonstrate how visualizations can be adjusted for specific needs.</p>
<div class="section level2">
<h2 id="visualization-using-plot_powriclpm">Visualization using <code>plot_powRICLPM()</code><a class="anchor" aria-label="anchor" href="#visualization-using-plot_powriclpm"></a>
</h2>
<p>The <code><a href="../reference/plot_powRICLPM.html">plot_powRICLPM()</a></code> function creates a “ggplot2” scatter plot of <code><a href="../reference/powRICLPM.html">powRICLPM()</a></code>-output. It requires the follow arguments:</p>
<ul>
<li>
<code>object</code>: A <code>powRICLPM</code> object,</li>
<li>
<code>x</code>: The factor that provides x coordinates for the plot. It accepts “sample_size”, “time_points”, or “ICC” as input, referring to the sample size, number of time points, and proportion of between-unit variance, respectively.</li>
<li>
<code>y</code>: The factor that provides y coordinates for the plot. It accepts “pwr”, “avg”, “stdDev”, “SEAvg”, “mse”, “cover”, or “acc”. More information on what these values refer to can be found in the “Power analysis” vignette at <a href="https://jeroendmulder.github.io/powRICLPM/analysis.html" class="external-link">https://jeroendmulder.github.io/powRICLPM/analysis.html</a>.</li>
<li>
<code>wrap</code>: The factor based on which visualizations are subsetted.</li>
<li>
<code>...</code>: Arguments provided to <code>...</code> are parsed to the mapping argument (<code><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes()</a></code>). For example, it can be used to group the results according to number of time points by passing <code>color = "time_points"</code> as an additional argument to <code><a href="../reference/plot_powRICLPM.html">plot_powRICLPM()</a></code>.</li>
</ul>
<p>Continuing with the example as introduced in the “Power analysis” vignette at <a href="https://jeroendmulder.github.io/powRICLPM/analysis.html" class="external-link">https://jeroendmulder.github.io/powRICLPM/analysis.html</a>, we can visualize how the achieved power to detect our small effect of interest (as captured by the “wB2~wA1” parameter) relates to sample size, using a scatter plot with sample size on the x-axis and power on the y-axis. Therefore, we specify:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a scatter plot of power by sample size</span>
<span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_powRICLPM.html">plot_powRICLPM</a></span><span class="op">(</span><span class="va">output</span>, x <span class="op">=</span> <span class="st">"sample_size"</span>, y <span class="op">=</span> <span class="st">"pwr"</span>, parameter <span class="op">=</span> <span class="st">"wB2~wA1"</span><span class="op">)</span>
<span class="va">p1</span></code></pre></div>
<p>However, this visualization does not distinguish between conditions with a different number of time points. Therefore, results from conditions with different number of time points can be mapped to lines with different colors or shapes by including the <code>color = "time_points"</code> or <code>shape = "time_points"</code> arguments.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a scatter plot of power by sample size and number of time points (color/shape)</span>
<span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_powRICLPM.html">plot_powRICLPM</a></span><span class="op">(</span><span class="va">output</span>, x <span class="op">=</span> <span class="st">"sample_size"</span>, y <span class="op">=</span> <span class="st">"pwr"</span>, color <span class="op">=</span> <span class="st">"time_points"</span>, parameter <span class="op">=</span> <span class="st">"wB2~wA1"</span><span class="op">)</span>
<span class="va">p2</span></code></pre></div>
<p>Suppose that the powRICLPM analysis also included varying proportions of between-unit variance (<code>ICC</code>). Visualizations can then be subsetted to multiple plots, each reflecting a specific proportion of between-unit variance, by providing a factor to the <code>wrap</code> argument.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_powRICLPM.html">plot_powRICLPM</a></span><span class="op">(</span><span class="va">output</span>, x <span class="op">=</span> <span class="st">"sample_size"</span>, y <span class="op">=</span> <span class="st">"pwr"</span>, color <span class="op">=</span> <span class="st">"time_points"</span>, wrap <span class="op">=</span> <span class="st">"factor(ICC)"</span>, parameter <span class="op">=</span> <span class="st">"wB2~wA1"</span><span class="op">)</span>
<span class="va">p3</span></code></pre></div>
<p>This functionality is implemented behind the scenes using the <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap()</a></code> function of the <code>ggplot2</code> package.</p>
</div>
<div class="section level2">
<h2 id="customizing-your-plots">Customizing your plots<a class="anchor" aria-label="anchor" href="#customizing-your-plots"></a>
</h2>
<p><code><a href="../reference/plot_powRICLPM.html">plot_powRICLPM()</a></code> returns a <code>ggplot2</code> object that can be fully customized using <code>ggplot2</code> functionality. For example, you can change the scales, add titles, change geoms, etc. More information about options in the <code>ggplot2</code> framework can be found at <a href="https://ggplot2-book.org/index.html" class="external-link">https://ggplot2-book.org/index.html</a>. In the below example, I add a title and change the labels on the x-axis:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p4</span> <span class="op">&lt;-</span> <span class="va">p2</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Power analysis for RI-CLPM"</span>,
       caption <span class="op">=</span> <span class="st">"Based on 1000 replications."</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Sample size"</span>,
                     breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>,
                     guide <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guide_axis.html" class="external-link">guide_axis</a></span><span class="op">(</span>n.dodge <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="va">p4</span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jeroen Mulder.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
