<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="powRICLPM">
<title>À priori power analysis • powRICLPM</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="À priori power analysis">
<meta property="og:description" content="powRICLPM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">powRICLPM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/apriori.html">À priori power analysis</a>
    <a class="dropdown-item" href="../articles/mplus.html">Power analysis using Mplus</a>
    <a class="dropdown-item" href="../articles/posthoc.html">Post hoc power analysis</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/JeroenDMulder/powRICLPM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>À priori power analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/JeroenDMulder/powRICLPM/blob/HEAD/vignettes/apriori.Rmd" class="external-link"><code>vignettes/apriori.Rmd</code></a></small>
      <div class="d-none name"><code>apriori.Rmd</code></div>
    </div>

    
    
<p>This vignette details how you can perform an à priori power analysis for the random intercept cross-lagged panel model (RI-CLPM) using the <code>powRICLPM</code> package. The goal of this analysis is to get a sample size recommendation to achieve a desired power for detecting a specific effect in the RI-CLPM. For example, you wish to detect a small cross-lagged effect <span class="math inline">\(\gamma_{2}\)</span> (defined here as the causal effect of <span class="math inline">\(x_{1}^{*}\)</span> to <span class="math inline">\(y_{2}^{*}\)</span>, where <span class="math inline">\(x_{1}^{*}\)</span> to <span class="math inline">\(y_{2}^{*}\)</span> denote the latent within-unit components of <span class="math inline">\(x_{1}\)</span> and <span class="math inline">\(y_{2}\)</span>, respectively) of 0.2 (standardized). The recommended sample size for à priori analyses is preliminary, because typically a small number of replications is used to speed up the analysis. This implies that the results might not have converged to a stable solution yet, and the recommendation must be verified using a sufficiently large number of replications.</p>
<div class="section level2">
<h2 id="preparation">Preparation<a class="anchor" aria-label="anchor" href="#preparation"></a>
</h2>
<p>Before performing the à priori power analysis, you must determine the <em>simulation conditions</em> and <em>population parameter values</em>. Simulation conditions refer to characteristics of the study design that can impact statistical power. This includes characteristics like the <em>sample size</em> and the <em>number of repeated measures</em> included in the study. You must decide the number of repeated measures that will be used in the simulations, and the range of sample sizes over which to simulate the power. For our example, we will investigate the power for sample sizes from 200 to 600 (with incremental steps of 50, resulting in 9 <em>conditions</em>) for an RI-CLPM with 3 repeated measures.</p>
<p>Next, you must determine population parameter values for the RI-CLPM. These can be based on previous research, theory, or expert knowledge. This function requires the specification of:</p>
<ul>
<li>
<code>ICC</code>: The proportion of variance at the between-unit level (relative to the total variance).</li>
<li>
<code>RI_cor</code>: The correlation between the random intercepts.</li>
<li>
<code>Phi</code>: Standardized autoregressive and cross-lagged effects for the within-unit components of the model.</li>
<li>
<code>wSigma</code>: Correlations between the within-unit components.</li>
</ul>
<p>Details on how to decide on values for these population parameter values can be found in LINK NAAR PAPER. For our example, the parameter values are set to:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ICC</span> <span class="op">&lt;-</span> <span class="fl">0.5</span>
<span class="va">RI_cor</span> <span class="op">&lt;-</span> <span class="fl">0.3</span>
<span class="va">Phi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.4</span>, <span class="fl">.1</span>, <span class="fl">.2</span>, <span class="fl">.3</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span> <span class="co"># The .2 refers to our standardized cross-lagged effect of interest</span>
<span class="va">wSigma</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.3</span>, <span class="fl">.3</span>, <span class="fl">1</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h2>
<p>To perform the à priori power analysis, use the <code><a href="../reference/powRICLPM.html">powRICLPM()</a></code> function. You must provide:</p>
<ul>
<li>the desired power level using the <code>target_power</code> argument,</li>
<li>the parameter of interest in the <code>parameter</code> argument (see the “Details” section in the help file of <code>powRICLPM</code> for details on the naming conventions used in this function),</li>
<li>the range of sample sizes to simulate the power for using the <code>search_lower</code>, <code>search_upper</code>, and <code>search_step</code> arguments,</li>
<li>the number of time points for the simulated data using the <code>time_points</code> argument,</li>
<li>the population values <code>ICC</code>, <code>RI_cor</code>, <code>Phi</code>, and <code>wSigma</code>, and</li>
<li>the number of MCMC replications you want to perform per condition in the <code>reps</code> argument (larger values result in more reliable results, but are more computationally intensive, especially when simulating the power for a large range of sample sizes).</li>
</ul>
<p>For our example, we would specify:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/powRICLPM.html">powRICLPM</a></span><span class="op">(</span>target_power <span class="op">=</span> <span class="fl">0.5</span>,
                    parameter <span class="op">=</span> <span class="st">"wB2~wA1"</span>,
                    search_lower <span class="op">=</span> <span class="fl">200</span>,
                    search_upper <span class="op">=</span> <span class="fl">600</span>,
                    search_step <span class="op">=</span> <span class="fl">50</span>,
                    time_points <span class="op">=</span> <span class="fl">3</span>,
                    ICC <span class="op">=</span> <span class="va">ICC</span>,
                    RI_cor <span class="op">=</span> <span class="va">RI_cor</span>, 
                    Phi <span class="op">=</span> <span class="va">Phi</span>,
                    wSigma <span class="op">=</span> <span class="va">wSigma</span>,
                    reps <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></code></pre></div>
<p>Optionally, you can specify:</p>
<ul>
<li>
<code>cores</code>: The number of cores to use during the analysis. Executing the analysis using multiple cores can significantly reduce computation time.</li>
<li>
<code>seed</code>: An integer to control the starting point of the random number generator. This is important to use if you want to replicate the results.</li>
<li>
<code>save_path</code>: A directory to which any (data) files will be written.</li>
</ul>
<p>Technical details on the implementation of the analysis can be found in LINK NAAR PAPER.</p>
</div>
<div class="section level2">
<h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>Using the <code><a href="../reference/powRICLPM.html">powRICLPM()</a></code> function creates list with the results, upon which we can call the <code><a href="../reference/powRICLPM_summary.html">powRICLPM_summary()</a></code> and <code><a href="../reference/powRICLPM_plot.html">powRICLPM_plot()</a></code> functions to summarize and visualize the results of our analysis, respectively. <code><a href="../reference/powRICLPM_summary.html">powRICLPM_summary()</a></code> displays a textual summary in the console, including characteristics of the powRICLPM analysis and the minimally recommended sample size to get the desired power for our parameter of interest. It also suggests next steps, amongst which validation of the preliminary recommendation and visualization of results.</p>
<p>The <code><a href="../reference/powRICLPM_plot.html">powRICLPM_plot()</a></code> creates a <code>ggplot2</code> scatter plot of simulated power over the range of sample sizes. Use the <code>parameter</code> argument to display visualize the power for a specific parameter.</p>
</div>
<div class="section level2">
<h2 id="whats-next">What’s next?<a class="anchor" aria-label="anchor" href="#whats-next"></a>
</h2>
<p>As the results of this à priori power analysis are usually based on a limited number of MCMC replications (to speed up the analysis), these results might be unreliable because they are unlikely to have converged to a stable solution. Therefore, it is important to rerun the analysis specifically for the recommended sample size using a sufficiently large number of replications. What is considered “sufficiently large” depends on the exact analysis, but in practice researchers use at least 1000 replications, and preferably 10000. We recommend to validate the results in what we refer to as a <em>post hoc</em> analysis as this leads to more simulation output (bias, average standard error, etc.). More information can be found at ….</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Jeroen Mulder.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
